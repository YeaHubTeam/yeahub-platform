#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

branch_name=$(git rev-parse --abbrev-ref HEAD)

#if ! echo "$branch_name" | grep -qE "^(((feature|fix)\/YH-[0-9]+)|(release\/\d+.\d+.\d+))+$"; then
#  echo "ĞÑˆĞ¸Ğ±ĞºĞ°: ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²ĞµÑ‚ĞºĞ¸ Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ñ‚ÑŒ Ğ² Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğµ 'feature/YH-XXX', 'fix/YH-XXX' Ğ¸Ğ»Ğ¸ 'release/X.X.X'"
#  exit 1
#fi

export FORCE_COLOR=1

echo 'ğŸ”ğŸ¨ Formating and checking staged files before committing!'

npx lint-staged ||
(
  echo 'ğŸ’€âŒ Ooops! Formating and checking process has failed!';
  false;
)

echo 'ğŸ¥³âœ… Formating and checking process has been successfully completed!'
